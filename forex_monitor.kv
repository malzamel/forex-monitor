#:kivy 2.0

<MainScreen>:
    name: 'main'
    signals_list: signals_list
    
    MDBoxLayout:
        orientation: 'vertical'
        
        # Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        MDTopAppBar:
            title: "Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„ÙÙˆØ±ÙƒØ³"
            md_bg_color: app.theme_cls.primary_color
            right_action_items: [["refresh", lambda x: root.refresh_signals()], ["cog", lambda x: app.root.current = 'settings']]
            elevation: 2
        
        # Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        ScrollView:
            MDBoxLayout:
                id: signals_list
                orientation: 'vertical'
                adaptive_height: True
                padding: dp(10)
                spacing: dp(10)
        
        # Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ
        MDBottomAppBar:
            MDTopAppBar:
                title: ""
                icon: "home"
                type: "bottom"
                mode: "end"
                on_action_button: app.root.current = 'main'


<SettingsScreen>:
    name: 'settings'
    
    MDBoxLayout:
        orientation: 'vertical'
        
        # Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        MDTopAppBar:
            title: "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["arrow-right", lambda x: app.root.current = 'main']]
            elevation: 2
        
        ScrollView:
            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True
                padding: dp(20)
                spacing: dp(20)
                
                MDLabel:
                    text: "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"
                    font_style: "H5"
                    halign: "right"
                    size_hint_y: None
                    height: self.texture_size[1]
                
                MDCard:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: dp(200)
                    padding: dp(20)
                    spacing: dp(10)
                    
                    MDLabel:
                        text: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"
                        font_style: "H6"
                        halign: "right"
                        size_hint_y: None
                        height: self.texture_size[1]
                    
                    MDLabel:
                        text: "ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ Ø¸Ù‡ÙˆØ± Ø¥Ø´Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©"
                        halign: "right"
                        size_hint_y: None
                        height: self.texture_size[1]
                    
                    MDLabel:
                        text: "Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø² Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±"
                        halign: "right"
                        size_hint_y: None
                        height: self.texture_size[1]
                
                MDCard:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: dp(150)
                    padding: dp(20)
                    spacing: dp(10)
                    
                    MDLabel:
                        text: "Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©"
                        font_style: "H6"
                        halign: "right"
                        size_hint_y: None
                        height: self.texture_size[1]
                    
                    MDLabel:
                        text: "ÙˆÙ‚Øª Ø§Ù„ÙØ­Øµ Ø§Ù„ÙŠÙˆÙ…ÙŠ: 00:05 UTC"
                        halign: "right"
                        size_hint_y: None
                        height: self.texture_size[1]
                
                MDRaisedButton:
                    text: "Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"
                    pos_hint: {"center_x": 0.5}
                    on_release: app.root.current = 'about'


<AboutScreen>:
    name: 'about'
    
    MDBoxLayout:
        orientation: 'vertical'
        
        # Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
        MDTopAppBar:
            title: "Ø¹Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"
            md_bg_color: app.theme_cls.primary_color
            left_action_items: [["arrow-right", lambda x: app.root.current = 'settings']]
            elevation: 2
        
        MDBoxLayout:
            orientation: 'vertical'
            padding: dp(30)
            spacing: dp(20)
            
            MDLabel:
                text: "ğŸ“Š"
                font_style: "H1"
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
            
            MDLabel:
                text: "Ù…Ø±Ø§Ù‚Ø¨ Ø§Ù„ÙÙˆØ±ÙƒØ³"
                font_style: "H4"
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
            
            MDLabel:
                text: "Ø§Ù„Ø¥ØµØ¯Ø§Ø± 1.0"
                halign: "center"
                theme_text_color: "Secondary"
                size_hint_y: None
                height: self.texture_size[1]
            
            MDLabel:
                text: "ØªØ·Ø¨ÙŠÙ‚ Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£Ø²ÙˆØ§Ø¬ Ø§Ù„ÙÙˆØ±ÙƒØ³ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¤Ø´Ø±Ø§Øª StochRSI Ùˆ MACD"
                halign: "center"
                size_hint_y: None
                height: self.texture_size[1]
            
            Widget:


ScreenManager:
    MainScreen:
    SettingsScreen:
    AboutScreen:
